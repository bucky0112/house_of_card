(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7426334"],{"1dd8":function(t,a,o){"use strict";o("d76e")},"5a5b":function(t,a,o){},"832b":function(t,a,o){"use strict";o("5a5b")},a92e:function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"dashboard"},[o("back-to-top",[o("button",{staticClass:"btn btn-info btn-to-top",attrs:{type:"button"}},[o("i",{staticClass:"fas fa-arrow-circle-up"})])]),o("Navbar",{attrs:{token:t.token}}),t.checkSuccess?o("router-view",{attrs:{token:t.token}}):t._e()],1)},n=[],s=(o("5319"),o("ac1f"),function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("b-navbar",{attrs:{type:"dark",variant:"dark",toggleable:"lg"}},[o("b-navbar-brand",{staticClass:"brand-link",attrs:{href:"#",to:"/"}},[o("h1",[t._v("House of Card")])]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-nav-item",{attrs:{href:"#",to:"/admin/products"}},[t._v("產品列表")]),o("b-nav-item",{attrs:{href:"#",to:"/admin/coupons"}},[t._v("優惠券列表")]),o("b-nav-item",{attrs:{href:"#",to:"/admin/order"}},[t._v("訂單列表")]),o("b-nav-item",{attrs:{href:"#",to:"/admin/imgstorage"}},[t._v("圖片儲存列表")])],1),o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-nav-form",[o("b-button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("登出")])],1)],1)],1)],1)],1)}),c=[],r={props:["token"],methods:{logout:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io","/api/auth/logout");this.axios.post(a,{api_token:this.token}).then((function(){t.$router.push("/")}))}}},i=r,u=(o("832b"),o("2877")),h=Object(u["a"])(i,s,c,!1,null,"1cd77b5b",null),b=h.exports,l=o("323a"),d={components:{Navbar:b},data:function(){return{token:"",checkSuccess:!1}},created:function(){this.checkLogin()},methods:{checkLogin:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.axios.defaults.headers.common.Authorization="Bearer ".concat(this.token);var a="".concat("https://course-ec-api.hexschool.io","/api/auth/check");this.axios.post(a,{api_token:this.token}).then((function(){t.checkSuccess=!0})).catch((function(){l["a"].fire({title:"目前遇到錯誤，請再試一次。",icon:"error"}),t.$router.push("/")}))}}},p=d,v=(o("1dd8"),Object(u["a"])(p,e,n,!1,null,"aa5bc3ee",null));a["default"]=v.exports},d76e:function(t,a,o){}}]);
//# sourceMappingURL=chunk-d7426334.2cea794e.js.map