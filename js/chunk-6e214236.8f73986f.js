(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e214236"],{"13d5":function(t,e,s){"use strict";var r=s("23e7"),i=s("d58f").left,a=s("a640"),o=s("2d00"),n=s("605d"),c=a("reduce"),l=!n&&o>79&&o<83;r({target:"Array",proto:!0,forced:!c||l},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2cf6":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkout",staticStyle:{"background-color":"#F8F9FA"}},[s("b-container",{staticStyle:{"margin-top":"100px"}},[s("b-row",{staticClass:"justify-content-center mb-3"},[s("b-col",{attrs:{md:"10"}},[s("step-progress",{attrs:{steps:t.mySteps,"current-step":t.currentStep,"icon-class":"fa fa-check","active-color":"#53B883","line-thickness":t.linethickness}})],1)],1),s("div",{staticClass:"justify-content-center pb-5"},[s("div",{staticClass:"border p-4 mb-4"},[s("b-table-simple",{attrs:{responsive:"",fixed:"",hover:""}},[s("b-thead",{attrs:{"head-variant":"dark"}},[s("b-th",[t._v("購買品項")]),s("b-th",[t._v("數量")]),s("b-th",[t._v("金額")])],1),s("b-tbody",[t._l(t.order.products,(function(e,r){return s("b-tr",{key:r},[s("b-td",{staticClass:"border-0 px-0 font-weight-normal py-4"},[s("img",{staticStyle:{width:"50px",height:"50px","object-fit":"cover"},attrs:{src:e.product.imageUrl[0],alt:e.product.title}}),s("p",{staticClass:"mb-0 font-weight-bold ml-3 d-inline-block"},[t._v(t._s(e.product.title))])]),s("b-td",{staticClass:"align-middle"},[t._v(t._s(e.quantity)+" "+t._s(e.product.unit))]),s("b-td",{staticClass:"align-middle"},[t._v(t._s(t._f("thousands")(e.product.price)))])],1)})),s("b-tr",[s("b-td"),s("b-td",[s("strong",[t._v("折扣：")])]),t.order.coupon?s("b-td",[s("strong",[t._v(t._s(t._f("thousands")(t.discountNum)))])]):s("b-td",[s("p",[t._v("0")])])],1),s("b-tr",[s("b-td"),s("b-td",[s("strong",[t._v("總計：")])]),s("b-td",[s("strong",[t._v(" "+t._s(t._f("thousands")(t.order.amount)))])])],1)],2)],1),s("b-table-simple",{staticClass:"mt-5",attrs:{responsive:"",fixed:""}},[s("b-tbody",[s("b-tr",[s("b-th",[t._v("訂購人姓名")]),s("b-td",[t._v(t._s(t.order.user.name))])],1),s("b-tr",[s("b-th",[t._v("訂購人 Email")]),s("b-td",[t._v(t._s(t.order.user.email))])],1),s("b-tr",[s("b-th",[t._v("訂購人電話")]),s("b-td",[t._v(t._s(t.order.user.tel))])],1),s("b-tr",[s("b-th",[t._v("訂購人地址")]),s("b-td",[t._v(t._s(t.order.user.address))])],1),s("b-tr",[s("b-th",[t._v("訂購人付款方式")]),s("b-td",[t._v(t._s(t.order.payment))])],1),t.order.message?s("b-tr",[s("b-th",[t._v("建議與意見")]),s("b-td",[t._v(t._s(t.order.message))])],1):t._e()],1)],1),s("b-button",{attrs:{variant:"dark"},on:{click:t.payingOrder}},[t._v("確認付款")])],1)])],1),s("Footer")],1)},i=[],a=(s("13d5"),s("99af"),s("ab44")),o={components:{Footer:a["a"]},data:function(){return{mySteps:["購物車","填寫資料","確認訂單"],currentStep:2,linethickness:5,order:{coupon:null,amount:0,user:{address:"",email:"",name:"",tel:""}},orderId:""}},created:function(){this.orderId=this.$route.params.id,this.getOrder()},computed:{originTotalPrice:function(){return this.order.products.reduce((function(t,e){return t+e.product.price*e.quantity}),0)},discountNum:function(){return Math.round(this.originTotalPrice*((100-this.order.coupon.percent)/100))}},methods:{getOrder:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("39ed65ef-c142-496e-b606-5f28634ee538","/ec/orders/").concat(this.orderId),s=this.$loading.show();this.axios.get(e).then((function(e){t.order=e.data.data,s.hide()})).catch((function(){s.hide(),t.$toast.error("出了點問題，請再試一次。")}))},payingOrder:function(){var t=this,e=this.$loading.show(),s="".concat("https://course-ec-api.hexschool.io","/api/").concat("39ed65ef-c142-496e-b606-5f28634ee538","/ec/orders/").concat(this.orderId,"/paying");this.axios.post(s).then((function(){e.hide(),t.$toast.success("謝謝您的購買，會儘快幫您寄出商品～"),t.$router.push("/success")})).catch((function(){e.hide(),t.$toast.error("出了點問題，請再試一次。")}))}}},n=o,c=s("2877"),l=Object(c["a"])(n,r,i,!1,null,null,null);e["default"]=l.exports},"7dd2":function(t,e,s){"use strict";s("fbe8")},ab44:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"bg-light py-4"},[s("b-container",[s("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between\n        align-items-md-center align-items-start"},[s("p",{staticClass:"mb-0 font-weight-bold"},[t._v("歡迎訂閱電子報可獲得折扣碼，並可得到更多最新資訊。")]),s("validation-provider",{staticClass:"input-group w-md-50 mt-md-0 mt-0",staticStyle:{"border-radius":"5px"},attrs:{rules:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,i=e.classes;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:i,attrs:{name:"email",type:"email",placeholder:"請輸入 Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-dark",attrs:{type:"button",id:"search"},on:{click:t.showCouponCode}},[t._v(" 訂閱 ")]),r[0]?s("span",{staticClass:"text-danger pl-1 pt-2"},[t._v(t._s(r[0]))]):t._e()])]}}])})],1)])],1),s("div",{staticClass:"bg-dark py-5"},[s("div",{staticClass:"container"},[s("div",{staticClass:"d-flex align-items-center justify-content-between text-white mb-md-7 mb-2"},[s("router-link",{attrs:{to:"/"}},[s("a",{staticClass:"footer-logo",attrs:{href:"#"}},[t._v("House of Card")])]),s("p",{staticClass:"mb-0"},[t._v("© 2020 House of Card All Rights Reserved.")]),s("ul",{staticClass:"d-flex list-unstyled mb-0 h4"},[s("li",[s("a",{staticClass:"text-white mx-3",attrs:{href:"#"},on:{click:t.linkToFaceBook}},[s("i",{staticClass:"fab fa-facebook"})])]),s("li",[s("a",{staticClass:"text-white mx-3",attrs:{href:"#"},on:{click:t.linkToGitHub}},[s("i",{staticClass:"fab fa-github"})])]),t._m(0),t._m(1)])],1),s("p",{staticClass:"mb-0",staticStyle:{color:"white"}},[t._v("所有圖片為練習使用，無商業用途。")])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{staticClass:"text-white mx-3",attrs:{href:"tel:02-3456-7890"}},[s("i",{staticClass:"fas fa-phone"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{staticClass:"text-white ml-3",attrs:{href:"mailto:bucky0112@gmail.com"}},[s("i",{staticClass:"fas fa-envelope"})])])}],a={data:function(){return{email:""}},methods:{linkToGitHub:function(){window.location.href="https://github.com/bucky0112"},linkToFaceBook:function(){window.location.href="https://www.facebook.com/timmychu0112"},showCouponCode:function(){this.email?this.$toast.success("優惠券代碼：newhoc8",{position:"top-center",timeout:1e4}):this.$toast.error("出了點問題，請再試一次。")}}},o=a,n=(s("7dd2"),s("2877")),c=Object(n["a"])(o,r,i,!1,null,"0e80a6d5",null);e["a"]=c.exports},d58f:function(t,e,s){var r=s("1c0b"),i=s("7b0b"),a=s("44ad"),o=s("50c4"),n=function(t){return function(e,s,n,c){r(s);var l=i(e),d=a(l),u=o(l.length),h=t?u-1:0,b=t?-1:1;if(n<2)while(1){if(h in d){c=d[h],h+=b;break}if(h+=b,t?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:u>h;h+=b)h in d&&(c=s(c,d[h],h,l));return c}};t.exports={left:n(!1),right:n(!0)}},fbe8:function(t,e,s){}}]);
//# sourceMappingURL=chunk-6e214236.8f73986f.js.map